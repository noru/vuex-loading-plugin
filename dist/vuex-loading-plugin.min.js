"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var RawModule={state:{ongoing:0},getters:{$globalLoading:function(n){return 0<n.ongoing}},mutations:{ongoing:function(n,o){n.ongoing+=o},singleAction:function(n,o){var t=o.key,e=o.status;n[t]=e}}},COMMIT=null,NAMESPACE="loading",PREFIX="l_",createloadingFunc=function(n){return{start:function(){COMMIT("ongoing",1),COMMIT("singleAction",{key:n,status:!0})},end:function(){COMMIT("ongoing",-1),COMMIT("singleAction",{key:n,status:!1})}}},actionWrapper=function(o,t,n){for(var e=[],i=3;i<arguments.length;i++)e[i-3]=arguments[i];try{o.$l=createloadingFunc(PREFIX+n),t.apply(void 0,[o].concat(e))}catch(n){console.error(n),t.apply(void 0,[o].concat(e))}};function wrapActions(n){return Object.keys(n).forEach(function(e){var i=n[e];n[e]=function(n){for(var o=[],t=1;t<arguments.length;t++)o[t-1]=arguments[t];return actionWrapper.apply(void 0,[n,i,e].concat(o))}}),n}function initLoadingModule(n,o,t){Object.keys(n._actions).forEach(function(n){var o=t+n;RawModule.state[o]=!1}),n.registerModule(o,RawModule)}function createLoadingPlugin(n){return void 0===n&&(n={}),NAMESPACE=n.namespace||NAMESPACE,PREFIX=n.prefix||PREFIX,function(n){COMMIT=n.commit,initLoadingModule(n,NAMESPACE,PREFIX)}}var index={create:createLoadingPlugin,wrap:wrapActions};exports.wrapActions=wrapActions,exports.createLoadingPlugin=createLoadingPlugin,exports.default=index;
