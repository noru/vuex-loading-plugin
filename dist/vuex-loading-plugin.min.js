"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var RawModule={state:{ongoing:0},getters:{global:function(n){return 0<n.ongoing}},mutations:{ongoing:function(n,t){n.ongoing+=t},singleAction:function(n,t){var o=t.key,e=t.status;n[o]=e}}},COMMIT=null,NAMESPACE="loading",PREFIX="l_",createloadingFunc=function(n){return{start:function(){COMMIT("ongoing",1),COMMIT("singleAction",{key:n,status:!0})},end:function(){COMMIT("ongoing",-1),COMMIT("singleAction",{key:n,status:!1})}}},actionWrapper=function(t,o,n){try{t.$l=createloadingFunc(PREFIX+n),o(t)}catch(n){console.error(n),o(t)}};function wrapActions(n){return Object.keys(n).forEach(function(t){var o=n[t];n[t]=function(n){return actionWrapper(n,o,t)}}),n}function initLoadingModule(n,t,o){Object.keys(n._actions).forEach(function(n){var t=o+n;RawModule.state[t]=!1}),n.registerModule(t,RawModule)}function createLoading(n){return NAMESPACE=n.namespace||NAMESPACE,PREFIX=n.prefix||PREFIX,function(n){COMMIT=n.commit,initLoadingModule(n,NAMESPACE,PREFIX)}}exports.wrapActions=wrapActions,exports.default=createLoading;
