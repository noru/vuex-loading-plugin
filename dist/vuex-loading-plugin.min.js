"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var RawModule={state:{ongoing:0},getters:{$globalLoading:function(n){return 0<n.ongoing}},mutations:{ongoing:function(n,t){n.ongoing+=t},singleAction:function(n,t){var o=t.key,e=t.status;n[o]=e}}},COMMIT=null,NAMESPACE="loading",PREFIX="l_",createloadingFunc=function(n){return{start:function(){COMMIT("ongoing",1),COMMIT("singleAction",{key:n,status:!0})},end:function(){COMMIT("ongoing",-1),COMMIT("singleAction",{key:n,status:!1})}}},actionWrapper=function(n,t,o){for(var e=[],i=3;i<arguments.length;i++)e[i-3]=arguments[i];try{n.$l=createloadingFunc(PREFIX+o)}catch(n){console.error(n)}return t.apply(void 0,[n].concat(e))};function wrapActions(n){return Object.keys(n).forEach(function(e){var i=n[e];n[e]=function(n){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return actionWrapper.apply(void 0,[n,i,e].concat(t))}}),n}function initLoadingModule(n,t,o){Object.keys(n._actions).forEach(function(n){var t=o+n;RawModule.state[t]=!1}),n.registerModule(t,RawModule)}function createLoadingPlugin(n){return void 0===n&&(n={}),NAMESPACE=n.namespace||NAMESPACE,PREFIX=n.prefix||PREFIX,function(n){COMMIT=n.commit,initLoadingModule(n,NAMESPACE,PREFIX)}}var index={create:createLoadingPlugin,wrap:wrapActions};exports.wrapActions=wrapActions,exports.createLoadingPlugin=createLoadingPlugin,exports.default=index;
